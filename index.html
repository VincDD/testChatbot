<!DOCTYPE html>
<html>
<head>
    <title>Chat Fullscreen</title>
</head>
<body>
    <div id="testContainer" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000;">
        CIAO
    </div>

    <script type='text/javascript'>
        function initEmbeddedMessaging() {
            try {
                const styleTag = document.createElement('style');
                styleTag.innerHTML = `
                    .embeddedMessagingFrame {
                        width: 100vw !important;
                        height: 100vh !important;
                        max-width: 100vw !important;
                        max-height: 100vh !important;
                        position: fixed !important;
                        top: 0 !important;
                        left: 0 !important;
                    }
                `;
                document.head.appendChild(styleTag);

                embeddedservice_bootstrap.settings.language = 'en';
                embeddedservice_bootstrap.settings.targetElement = document.getElementById('testContainer');

                embeddedservice_bootstrap.init(
                    '00D1q0000008iac',
                    'Enhanced_ChatBot',
                    'https://aceaidrico--svimvp3.sandbox.my.site.com/ESWEnhancedChatBot1706709397585',
                    {
                        scrt2URL: 'https://aceaidrico--svimvp3.sandbox.my.salesforce-scrt.com'
                    }
                );
            } catch (err) {
                console.error('Error loading Embedded Messaging: ', err);
            }
        };
    </script>

    <script type='text/javascript' src='https://aceaidrico--svimvp3.sandbox.my.site.com/ESWEnhancedChatBot1706709397585/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>

    <script type="text/javascript">
        window.onload = function() {
            setTimeout(function() {
                var externalBody = document.querySelector('.embeddedMessagingFrame');
                if(externalBody!=null){}
                else{
                    var externalChatButton = document.querySelector('.embeddedMessagingConversationButton');
                    if (externalChatButton) {
                        externalChatButton.click();
                    }
                }
            }, 500);
        };
    </script>
</body>
</html>
